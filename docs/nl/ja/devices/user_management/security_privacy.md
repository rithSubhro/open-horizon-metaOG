---

copyright:
years: 2019
lastupdated: "2019-06-24"
 
---

{:new_window: target="blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:codeblock: .codeblock}
{:pre: .pre}
{:child: .link .ulchildlink}
{:childlinks: .ullinks}

# セキュリティーおよびプライバシー
{: #security_privacy}

{{site.data.keyword.edge_devices_notm}} は {{site.data.keyword.horizon}} ベースであり、攻撃に対して可能な限りセキュアで、関与しているエンティティーのプライバシーを保護します。 {{site.data.keyword.edge_devices_notm}} は、地理的に分散した自律的なエージェント・プロセスおよび合意ボット (agbot) プロセスを利用して、エッジ・ソフトウェアの管理および匿名性の維持を実現します。
{:shortdesc}

匿名性を維持するために、エージェントおよび agbot のプロセスは、{{site.data.keyword.edge_devices_notm}} のディスカバリーおよびネゴシエーション・プロセス全体で公開鍵のみを共有します。 {{site.data.keyword.edge_devices_notm}} 内のすべてのパーティーは、デフォルトでは、お互いを信頼できないエンティティーとして扱います。 これらのパーティーは、信頼が確立され、相互のネゴシエーションが完了し、正式な合意が確立されてはじめて、情報の共有とコラボレーションを行うようになります。

## 分散型コントロール・プレーン
{: #dc_pane}

標準的な集中型のモノのインターネット (IoT) プラットフォームおよびクラウド・ベースの制御システムとは対照的に、{{site.data.keyword.edge_devices_notm}} のコントロール・プレーンはほとんど非集中型です。 システム内の各役割には、制限された範囲の権限が付与されるため、各役割は、関連タスクの実行に必要な最小レベルの権限のみを備えます。 システム全体を制御できる単一の権限はありません。 単一のユーザーまたは役割は、単一のホストやソフトウェア・コンポーネントを侵害することで、システム内のすべてのノードに対するアクセス権限を取得することはできません。

コントロール・プレーンは、以下の 3 つの異なるソフトウェア・エンティティーによって実装されます。
* {{site.data.keyword.horizon}} エージェント
* {{site.data.keyword.horizon}} agbot
* {{site.data.keyword.horizon_exchange}}

{{site.data.keyword.horizon}} エージェントおよび agbot はプライマリー・エンティティーであり、自律的に動作してエッジ・ノードを管理します。 {{site.data.keyword.horizon_exchange}} は、エージェントおよび agbot 間のディスカバリー、ネゴシエーション、およびセキュアな通信を支援します。

### エージェント
{: #agents}

{{site.data.keyword.horizon}} エージェントは、{{site.data.keyword.edge_devices_notm}} 内のすべてのアクターで最も数の多いエンティティーです。 エージェントは、各管理対象エッジ・ノードで実行されます。 各エージェントは、担当する 1 つのエッジ・ノードのみを管理する権限を持ちます。 エージェントは、{{site.data.keyword.horizon_exchange}} で自身の公開鍵を公開し、リモート agbot プロセスとネゴシエーションして、ローカル・ノードのソフトウェアを管理します。 エージェントは、エージェントの組織内のデプロイメント・パターンを担当している agbot からの通信を受信することのみを予期します。

エージェントが侵害されても、そのエージェントは、他のエッジ・ノードやシステムの他のコンポーネントに影響を及ぼす権限を備えていません。 エッジ・ノード上のホスト・オペレーティング・システムまたはエージェント・プロセスがハッキングされるなどして侵害された場合、そのエッジ・ノードのみが侵害されます。 {{site.data.keyword.edge_devices_notm}} システムの他のどの部分も影響を受けません。

エッジ・ノード・エージェントは、エッジ・ノードの最も強力なコンポーネントになり得ますが、{{site.data.keyword.edge_devices_notm}} システム全体のセキュリティーの侵害という観点からは最も能力の低いコンポーネントです。 エージェントは、ソフトウェアをエッジ・ノードにダウンロードし、ソフトウェアを検証してから、エッジ・ノード上でそのソフトウェアを実行し、他のソフトウェアおよびハードウェアにリンクします。 ただし、{{site.data.keyword.edge_devices_notm}} のシステム全体のセキュリティー内で、エージェントは、自身が実行されているエッジ・ノードの外部での権限を一切持ちません。

### agbot
{: #agbots}

{{site.data.keyword.horizon}} agbot プロセスは、どこでも実行可能です。 デフォルトでは、プロセスは自動的に実行されます。 agbot インスタンスは、{{site.data.keyword.horizon}} 内で 2 番目に一般的なアクターです。 各 agbot は、その agbot に割り当てられたデプロイメント・パターンのみを担当します。 デプロイメント・パターンは、主にポリシーおよびソフトウェア・サービス・マニフェストで構成されます。 単一の agbot インスタンスで、組織の複数のデプロイメント・パターンを管理できます。

デプロイメント・パターンは、{{site.data.keyword.edge_devices_notm}} ユーザー組織のコンテキストで開発者によって公開されます。 デプロイメント・パターンは、agbot によって {{site.data.keyword.horizon}} エージェントに提供されます。 エッジ・ノードが {{site.data.keyword.horizon_exchange}} に登録されると、組織のデプロイメント・パターンがそのエッジ・ノードに割り当てられます。 そのエッジ・ノード上のエージェントは、その特定の組織からのその特定のデプロイメント・パターンを提示する agbot からのオファーのみを受け入れます。 agbot は、デプロイメント・パターンの配信手段ですが、デプロイメント・パターン自体は、エッジ・ノード所有者によってエッジ・ノード上で設定されたポリシーで受け入れ可能でなければなりません。 デプロイメント・パターンは、署名検証に合格する必要があります。合格しないと、パターンはエージェントによって受け入れられません。

侵害された agbot は、エッジ・ノードとの悪意のある合意を提案しようとしたり、エッジ・ノードに悪意のあるデプロイメント・パターンをデプロイしようとしたりする可能性があります。 ただし、エッジ・ノード・エージェントは、エージェントが登録を介して要求し、エッジ・ノードで設定されているポリシーで受け入れ可能なデプロイメント・パターンの合意のみを受け入れます。 また、エージェントはパターンを受け入れる前に、その公開鍵を使用してパターンの暗号署名を検証します。

agbot は、ソフトウェアのインストールと保守の更新を調整しますが、agbot は、agbot が提供しているソフトウェアをエッジ・ノードまたはエージェントが受け入れるように強制する権限を備えていません。 個々のエッジ・ノード上のエージェントが、受け入れるソフトウェアまたは拒否するソフトウェアを決定します。 エージェントは、インストールした公開鍵、およびエッジ所有者がエッジ・ノードを {{site.data.keyword.horizon_exchange}} に登録したときにエッジ・ノード所有者によって設定されたポリシーに基づいて、この決定を行います。

## {{site.data.keyword.horizon_exchange}}
{: #exchange}

{{site.data.keyword.horizon_exchange}} は中央集中化されていますが、地理的に複製およびロード・バランシングされたサービスです。このサービスにより、分散型のエージェントおよび agbot は、相手の参加や合意のネゴシエーションを行うことができます。 詳しくは、[{{site.data.keyword.edge}} の概要](../../getting_started/overview_ieam.md)を参照してください。

{{site.data.keyword.horizon_exchange}} は、ユーザー、組織、エッジ・ノード、およびすべての公開されているサービス、ポリシー、およびデプロイメント・パターンのメタデータの共有データベースとしても機能します。

開発者は、{{site.data.keyword.horizon_exchange}} に作成したソフトウェア・サービスの実装、ポリシー、およびデプロイメント・パターンに関する JSON メタデータを公開します。 この情報は、開発者によってハッシュされ、暗号的に署名されます。 エッジ・ノード所有者は、ローカル・エージェントが公開鍵を使用して署名を検証できるように、エッジ・ノードの登録中にソフトウェアの公開鍵をインストールする必要があります。

侵害された {{site.data.keyword.horizon_exchange}} は、悪意を持ってエージェントおよび agbot プロセスに偽の情報を提供する可能性がありますが、システムに組み込まれている検証メカニズムのため、影響は最小限に抑えられます。 {{site.data.keyword.horizon_exchange}} は、悪意を持ってメタデータに署名するために必要な資格情報を備えていません。 侵害された {{site.data.keyword.horizon_exchange}} は、悪意を持ってユーザーや組織になりすますことはできません。 {{site.data.keyword.horizon_exchange}} は、ディスカバリーおよびネゴシエーション・プロセス時に agbot を有効にするために使用される、開発者およびエッジ・ノード所有者によって公開されたアーティファクトのウェアハウスとして機能します。

{{site.data.keyword.horizon_exchange}} は、エージェントと agbot 間のすべての通信の仲介および保護も行います。 これには、エージェントと agbot がそれぞれ他方宛てのメッセージを残すことができるメールボックス・メカニズムが実装されています。 メッセージを受信するには、エージェントと agbot はそれぞれ Horizon スイッチボードにポーリングして、メールボックスにメッセージが含まれているかどうかを確認する必要があります。

さらに、エージェントと agbot はいずれも、公開鍵を {{site.data.keyword.horizon_exchange}} と共有して、セキュアなプライベート通信を有効にします。 エージェントまたは agbot が別の相手に通信する必要がある場合、送信側は対象受信側の公開鍵を使用して、受信側を識別します。 送信側は、その公開鍵を使用して受信側へのメッセージを暗号化します。 その後、受信側は、送信側の公開鍵を使用して応答を暗号化できます。

この方法により、メッセージの復号に必要な共有鍵がないため、Horizon Exchange がメッセージを盗聴できないことが保証されます。 対象受信側のみがメッセージを復号できます。 侵害された Horizon Exchange は、どのエージェントや agbot の通信も見ることができず、悪意のある通信をどのエージェントと agbot の間の会話に挿入することもできません。

## サービス妨害攻撃
{: #denial}

{{site.data.keyword.horizon}} は、中央集中サービスを利用します。 通常、一般的なモノのインターネットのシステムにおける中央集中サービスは、サービス妨害攻撃に対して脆弱です。 {{site.data.keyword.edge_devices_notm}} では、これらの中央集中サービスは、ディスカバリー、ネゴシエーション、および更新のタスクにしか使用されません。 分散型の自律的なエージェントおよび agbot のプロセスは、プロセスでディスカバリー、ネゴシエーション、および更新のタスクを実行する必要がある場合のみ中央集中サービスを使用します。 それ以外の場合、合意が形成されていれば、これらの中央集中サービスがオフラインのときでも、システムは正常に機能し続けることができます。 この機能により、中央集中サービスが攻撃された場合でも、{{site.data.keyword.edge_devices_notm}} がアクティブなままでいられることが保証されます。

## 非対称暗号方式
{: #asym_crypt}

{{site.data.keyword.edge_devices_notm}} における暗号化のほとんどは、非対称鍵暗号方式に基づいています。 この形式の暗号方式では、ユーザーおよび開発者は `hzn key` コマンドを使用して鍵ペアを生成し、秘密鍵を使用して、公開するソフトウェアまたはサービスに暗号的に署名する必要があります。 ソフトウェアまたはサービスの暗号署名を検証できるように、ソフトウェアまたはサービスを実行する必要があるエッジ・ノードに公開鍵をインストールする必要があります。

エージェントと agbot は、自身の秘密鍵を使用して相手へのメッセージに暗号的に署名し、相手の公開鍵を使用して、受信したメッセージを検証します。 また、エージェントと agbot は、相手の公開鍵を使用して自身のメッセージを暗号化して、対象受信側のみがメッセージを復号できるようにします。

エージェント、agbot、またはユーザーの秘密鍵および資格情報が暗号漏えいした場合、そのエンティティーの制御下のアーティファクトのみが危険にさらされます。 

## 要約
{: #summary}

ハッシュ、暗号署名、および暗号化を使用することにより、{{site.data.keyword.edge_devices_notm}} は、望ましくないアクセスに対してプラットフォームの大部分を保護します。 {{site.data.keyword.edge_devices_notm}} は大部分が非集中化されているため、従来型のモノのインターネットのプラットフォームでよく見られるほとんどの攻撃にさらされることがありません。 権限の範囲および参加エンティティーの役割の影響を制限することで、{{site.data.keyword.edge_devices_notm}} は、侵害されたホストや侵害されたソフトウェア・コンポーネントからシステムの当該部分に及ぶ可能性がある損害を阻止します。 {{site.data.keyword.edge_devices_notm}} で使用されている {{site.data.keyword.horizon}} サービスの中央集中サービスに対する大規模な外部攻撃が生じた場合でも、既に合意状態のエージェントと agbot への影響は最小限に抑えられます。 有効な合意下にあるエージェントと agbot は、破壊攻撃中も正常に動作し続けます。
