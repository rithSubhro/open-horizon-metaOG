---

copyright:
years: 2019, 2020
lastupdated: "2020-02-13"

---

{:new_window: target="blank"}
{:shortdesc: .shortdesc}
{:screen: .screen}
{:codeblock: .codeblock}
{:pre: .pre}
{:child: .link .ulchildlink}
{:childlinks: .ullinks}

# 에지 네이티브 개발 우수 사례
{: #edge_native_practices}

에지, 즉 IT 데이터 센터나 클라우드 환경의 정상적인 범위 밖에 존재하는 컴퓨팅 설비에서 동작할 작업부하를 작성 중일 것입니다. 그것은 해당 환경의 고유한 조건을 고려해야 함을 의미합니다. 이를 에지 네이티브(edge-native) 프로그래밍 모델이라고 합니다.

## 에지 서비스 개발을 위한 우수 사례
{: #best_practices}

다음 우수 사례 및 가이드라인은 {{site.data.keyword.edge_notm}}({{site.data.keyword.ieam}})에서 사용할 에지 서비스를 디자인하고 개발하는 데 도움을 줍니다.
{:shortdesc}

에지에서의 서비스 실행을 자동화하는 것은 다음 방법으로 클라우드에서 서비스를 자동화하는 것과 다릅니다.

* 에지 노드의 수가 훨씬 더 많을 수 있습니다.
* 에지 노드에 대한 네트워크는 신뢰할 수 없을 수 있으며 속도가 훨씬 더 느릴 수 있습니다. 에지 노드는 종종 방화벽 뒤에 있으므로 일반적으로 클라우드에서 에지 노드로의 연결을 시작할 수 없습니다.
* 에지 노드가 리소스 제한적입니다.
* 에지에서 작업부하 조작 이면의 추진력은 대기 시간을 줄이고 네트워크 대역폭을 최적화하는 기능입니다. 이것은 데이터 위치와 관련된 작업부하 관리를 중요한 요소로 만듭니다. 
* 일반적으로 에지 노드는 원격 위치에 있으며 운영 담당자에 의해 설정되지 않습니다. 에지 노드가 설정된 후에 담당자가 노드를 관리하지 못할 수 있습니다.
* 에지 노드는 일반적으로 클라우드 서버보다 신뢰도가 낮은 환경입니다.

이러한 차이점으로 인해 에지 노드에서 소프트웨어를 배치하고 관리하기 위해 다른 기술이 필요합니다. {{site.data.keyword.ieam}}은 에지 노드를 관리하기 위해 디자인되었습니다. 서비스를 작성할 때 다음 가이드라인을 준수하여 서비스가 에지 노드에서 작동하도록 디자인해야 합니다.

## 서비스 개발 가이드라인
{: #service_guidelines}


* **클라우드 네이티브 프로그래밍 모델:** 에지 네이티브 프로그래밍 모델은 다음을 포함하여 클라우드 네이티브 프로그래밍으로부터 많은 프린시펄을 상속합니다.

  * 작업부하 컴포넌트화 및 컨테이너화 - 각각 논리적으로 관련된 그룹으로 패키지화되는 마이크로서비스 세트를 중심으로 애플리케이션을 구성하지만, 서로 다른 티어나 에지 노드에서 다른 컨테이너가 가장 잘 동작할 수 있는 장소를 인식하도록 해당 그룹의 균형을 맞춥니다.
  * 애플리케이션의 다른 파트가 그들이 종속되는 서비스를 찾을 수 있게 하는 API를 마이크로서비스에 노출시킵니다.
  * 서로 독립적으로 작동하고, 탄력적 확장, 장애 복구 및 복구를 약화시키는 서비스 사이에 선호도를 부과하는 상태 기반 가정을 예방하도록 마이크로서비스 사이에 느슨한 결합을 디자인합니다.
  * DevOps 프레임워크 내의 Agile 개발 사례와 결합하여, 지속적 통합 및 지속적 배치(CI/CD)를 연습합니다.
  * 클라우드 네이티브 프로그래밍 사례에 관한 자세한 정보는 다음 리소스를 고려하십시오.
    * [클라우드 네이티브 애플리케이션에 대한 10개의 키 속성](https://thenewstack.io/10-key-attributes-of-cloud-native-applications/)
    * [클라우드 네이티브 프로그래밍](https://researcher.watson.ibm.com/researcher/view_group.php?id=9957)
    *	[클라우드 네이티브 애플리케이션 이해](https://www.redhat.com/en/topics/cloud-native-apps)

* **서비스 가용성:** 서비스 컨테이너에 다른 서비스 컨테이너가 필요하고 이를 사용하는 경우 일부 상황에서 해당 서비스가 없어도 사용자의 서비스가 영향을 받지 않아야 합니다. 예를 들어, 컨테이너가 처음에 시작될 때, 종속성 그래프의 끝에서 시작된 경우에도 위로 이동하면 일부 서비스가 다른 서비스보다 더 빠르게 시작될 수 있습니다. 이 상황에서 서비스 컨테이너는 종속 항목이 완전히 작동할 때까지 대기하는 동안 재시도해야 합니다. 마찬가지로 종속성 서비스 컨테이너가 자동으로 업데이트되는 경우 이는 다시 시작됩니다. 사용자 서비스가 의존하는 서비스의 중단에 영향을 받지 않는 것이 가장 좋습니다.
* **이식성:** 에지 컴퓨팅의 세계는 에지 디바이스, 에지 클러스터 및 네트워크 또는 대도시 에지 위치를 포함하여 시스템의 다중 티어에 걸쳐 있습니다. 컨테이너화된 에지 워크로드가 최종적으로 위치하는 장소는 센서 데이터 및 액츄에이터 같은 특정 리소스에 대한 의존성, 종료 대기 시간 요구사항 및 사용 가능한 컴퓨팅 용량을 포함한 요소들의 조합에 따라 다릅니다. 애플리케이션이 사용될 컨텍스트의 필요성에 따라서 시스템의 서로 다른 티어에 위치하는 것을 허용하도록 워크로드를 디자인해야 합니다.
* **컨테이너 오케스트레이션:** 다중 티어 이식성에 대한 이전의 관점에서 더 나아가 일반적으로 에지 디바이스는 논리 컨테이너 오케스트레이션 없이 기본 Docker 런타임에서 동작합니다. 에지 클러스터와 네트워크 및 메트로 에지는 공유되는 경쟁 리소스 수요에 대해 워크로드를 조정하기 위해 Kubernetes와 함께 구성됩니다. 분산된 에지 컴퓨팅 세계의 서로 다른 티어에 대한 이식성을 사용할 수 있도록 Docker 또는 Kubernetes 중 하나에 대한 모든 명시적 의존성을 피하도록 컨테이너를 구현해야 합니다. 
* **구성 매개변수 구체화:** {{site.data.keyword.ieam}}이 제공하는 기본 제공 지원을 사용하여 구성 변수 및 리소스가 공급되고 컨테이너가 배치되는 노드에 특정한 값으로 업데이트될 수 있다는 모든 구성 변수 및 리소스 종속 항목을 구체화하십시오.
* **크기 고려사항:** 서비스가 잠재적으로 느린 네트워크를 통해 배치되거나 소규모 에지 디바이스에 배치될 수 있도록 서비스 컨테이너가 가능한 한 작아야 합니다. 더 소규모인 서비스 컨테이너를 개발하는 데 도움을 받으려면 다음 기술을 사용하십시오.

  * 더 작은 서비스를 빌드하는 데 도움이 될 수 있는 프로그래밍 언어를 사용하십시오.
    * 최적: go, rust, c, sh
    * 양호: c++, python, bash
    * 고려: nodejs, scala 같은 Java 및 JVM 기반 언어
  * 더 작은 Docker 이미지를 생성하는 데 도움이 될 수 있는 기술을 사용하십시오.
    * alpine을 {{site.data.keyword.linux_notm}}의 기본 이미지로 사용하십시오.
    * alpine 기반 이미지에 패키지를 설치하려면 `apk --no-cache --update add` 명령을 사용하여 런타임에 필요하지 않은 패키지 캐시가 저장되지 않도록 하십시오.
    * 파일이 추가되는 것과 동일한 Dockerfile 계층(명령)에서 파일을 삭제하십시오. 별도의 Dockerfile 명령행을 사용하여 파일을 이미지에서 삭제하면 컨테이너 이미지의 크기가 늘어납니다. 예를 들어, `&&`를 사용하여 파일을 다운로드하고 사용한 후 삭제하기 위한 명령을 모두 단일 Dockerfile `RUN` 명령 내에 그룹화할 수 있습니다.
    * 런타임 Docker 이미지에 빌드 도구를 포함하지 마십시오. [Docker 다단계 빌드](https://docs.docker.com/develop/develop-images/multistage-build/)를 사용하여 런타임 아티팩트를 빌드하는 것이 가장 좋습니다. 그런 다음, 선택적으로 필요한 런타임 아티팩트(예: 실행 가능 컴포넌트)를 실행 가능 컴포넌트로 런타임 Docker 이미지에 복사하십시오.
* **서비스 자체에 포함 유지:** 네트워크를 통해 서비스를 에지 노드에 보내고 자율적으로 시작해야 하므로, 서비스 컨테이너는 서비스가 의존하는 모든 항목을 포함해야 합니다. 모든 필수 인증서와 같은 자산을 컨테이너로 번들화해야 합니다. 서비스를 정상적으로 실행하는 데 필요한 자산을 에지 노드에 추가하는 태스크를 완료하기 위해 관리자의 가용성에 의존하지 마십시오.
* **데이터 개인정보 보호:** 네트워크를 통해 개인용 및 민감한 데이터를 이동할 때마다 공격 및 노출에 대한 해당 데이터의 취약성이 증가합니다. 에지 컴퓨팅은 주요 이점 중 하나로서 해당 데이터를 데이터가 작성되는 장소에 보관할 기회를 제공합니다. 컨테이너를 보호함으로써 컨테이너에서 해당 기회를 준수하십시오. 이상적으로는, 해당 데이터를 다른 서비스에 전달하지 마십시오. 절대적으로 데이터를 시스템의 다른 서비스나 티어로 전달해야 하는 경우, PII(개인적으로 식별하는 정보), PHI(개인 건강 정보) 또는 PFI(개인 재무 정보)를 난독화 또는 비식별 기술을 통해 제거하거나 전적으로 서비스의 범위 안에서 소유되는 키에 암호화하여 제거해보십시오. 
* **자동화를 위해 디자인 및 구성:** 각 노드 및 노드에서 실행되는 서비스는 가능한 한 Zero-Ops(사람의 개입이 없는 오퍼레이션)에 근접해야 합니다. {{site.data.keyword.ieam}}은 서비스의 배치 및 관리를 자동화하지만 {{site.data.keyword.ieam}}이 사용자 개입 없이 이러한 프로세스를 자동화할 수 있도록 서비스를 구조화해야 합니다. 자동화를 위한 디자인에 도움을 받으려면 다음 가이드라인을 준수하십시오.
  * 서비스에 대한 사용자 입력 변수의 수를 제한하십시오. 서비스 정의에서 기본값이 없는 UserInput 변수에는 각 에지 노드마다 값을 지정해야 합니다. 변수의 수를 제한하거나 가능하면 변수를 사용하지 마십시오.  
  * 서비스에 많은 구성 가능 설정이 필요한 경우 변수 정의를 위해 구성 파일을 사용하십시오. 서비스 컨테이너 내에 구성 파일의 기본 버전을 포함시키십시오. 그런 다음 {{site.data.keyword.ieam}} 모델 관리 시스템을 사용하여 관리자가 고유한 구성 파일을 제공하고 시간 경과에 따라 이를 업데이트할 수 있도록 하십시오.
  * **표준 플랫폼 서비스 강화:** 많은 애플리케이션 수요가 미리 구현된 플랫폼 서비스에 의해 만족될 수 있습니다. 이런 기능을 애플리케이션의 스크래치로부터 작성하는 대신, 이미 작성되어 사용할 수 있는 것을 사용할 것을 고려하십시오. 이러한 플랫폼 서비스의 단일 소스에는 IBM Cloud Pak이 포함되며, 이는 다음과 같이 클라우드 네이티브 프로그래밍 사례를 사용하여 빌드된 자체를 포함하는 많은 다양한 범위의 기능이 해당됩니다.
    * **데이터 관리:** SQL 및 비SQL, 블록 및 오브젝트 스토리지 데이터베이스 요구사항, 기계 학습 및 AI 서비스, 데이터 부족 요구사항에 대해서는 IBM Cloud Pak for Data를 고려하십시오. 
    * **보안:** 암호화, 코드 스캐닝 및 침입 감지 필요성에 대해서는 IBM CloudPak for Security를 고려하십시오.
